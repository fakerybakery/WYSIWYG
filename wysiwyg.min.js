function WYSIWYG(e){var t=document.createElement("menu-tray"),n=document.createElement("div");n.textContent=e.value,n.style=e.style,n.contentEditable=!0;var a=document.createElement("button");a.innerHTML="<b>B</b>";var i=document.createElement("button");i.innerHTML="<u>U</u>";var o=document.createElement("button");o.innerHTML="<i>I</i>";var l=document.createElement("button");l.textContent="\uD83D\uDD17";var d=document.createElement("button");d.innerHTML="H1";var c=document.createElement("button");c.innerHTML="H2";var r=document.createElement("button");r.innerHTML='"';var s=document.createElement("button");s.innerHTML="N";var m=document.createElement("button");function p(){t.style.display="none"}function u(){e.value=n.innerHTML;var s=window.getSelection();if(s.toString().length>0){t.style.display="block";let m=s.getRangeAt(0),p=m.getBoundingClientRect(),u=(p.top+p.bottom)/2;u<window.innerHeight/2?(t.style.top=`${p.bottom+window.pageYOffset}px`,t.style.borderTopLeftRadius="0px",t.style.borderBottomLeftRadius="100px"):(t.style.top=`${p.top+window.pageYOffset-t.offsetHeight}px`,t.style.borderTopLeftRadius="100px",t.style.borderBottomLeftRadius="0px"),t.style.left=`${p.left+window.pageXOffset}px`}else t.style.display="none";if(s.rangeCount&&s.getRangeAt){for(var v=s.getRangeAt(0).commonAncestorContainer,L=!1,f=!1,g=!1,E=!1,y=!1,_=!1,C=!1;v;)1==v.nodeType&&"B"==v.nodeName&&(L=!0),1==v.nodeType&&"U"==v.nodeName&&(f=!0),1==v.nodeType&&"A"==v.nodeName&&(g=!0),1==v.nodeType&&"H1"==v.nodeName&&(E=!0),1==v.nodeType&&"H2"==v.nodeName&&(y=!0),1==v.nodeType&&"BLOCKQUOTE"==v.nodeName&&(_=!0),1==v.nodeType&&"I"==v.nodeName&&(C=!0),v=v.parentNode;a.classList.toggle("active",L),i.classList.toggle("active",f),l.classList.toggle("active",g),d.classList.toggle("active",E),c.classList.toggle("active",y),r.classList.toggle("active",_),o.classList.toggle("active",C)}}m.textContent="â€“",t.appendChild(a),t.appendChild(i),t.appendChild(o),t.appendChild(l),t.appendChild(d),t.appendChild(c),t.appendChild(r),t.appendChild(s),t.appendChild(m),n.addEventListener("input",u),n.addEventListener("keyup",u),n.addEventListener("focus",u),n.addEventListener("mouseup",u),a.addEventListener("click",function e(){document.execCommand("bold",!1,null)}),i.addEventListener("click",function e(){document.execCommand("underline",!1,null)}),l.addEventListener("click",function e(){var t=prompt("Enter URL:");document.execCommand("createLink",!1,t)}),d.addEventListener("click",function e(){document.execCommand("formatBlock",!1,"H1")}),c.addEventListener("click",function e(){document.execCommand("formatBlock",!1,"H2")}),r.addEventListener("click",function e(){document.execCommand("formatBlock",!1,"BLOCKQUOTE")}),o.addEventListener("click",function e(){document.execCommand("italic",!1,null)}),s.addEventListener("click",function e(){document.execCommand("formatBlock",!1,"div"),this.getEditor=function(){return n}}),m.addEventListener("click",function e(){document.execCommand("insertHorizontalRule",!1,null)});var v=e.parentElement;v.insertBefore(n,e.nextSibling),t.classList.add("wysiwygmt"),n.classList.add("wysiwyge"),v.insertBefore(t,e.nextSibling)}